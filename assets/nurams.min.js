var rbot,template='<div style=""><div id="chatbotopenid" class="chatshow-viewdivshow myanimation"><div class="chatshow-btn" id="chatshowbtn"> <svg id="iconsvg" xmlns="http://www.w3.org/2000/svg" style="padding-top: 2px;" viewBox="0 0 24 24" fill="white" width="18px" height="18px"><path d="M0 0h24v24H0z" fill="none"/><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 9h12v2H6V9zm8 5H6v-2h8v2zm4-6H6V6h12v2z"/></svg> <label style="margin: 0px 5px 0px 5px;cursor: pointer;">Chat</label></div> </div> <div class="chatshow-imgs" id="imgg" ></div>  <div id="chatbotid" class="chatshow-viewdiv myanimation"><div class="chatshow-chathead" id="chathead"><div class="chatshow-title"> <label id="bottitle"> RBot </label></div><div class="chatshow-title-btndiv"> <button class="chatshow-title-btn myanimation" id="refreshClick" > <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#989da0" width="18px" height="18px"><path d="M0 0h24v24H0z" fill="none"/><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/></svg> </button> <button class="chatshow-title-btn myanimation" id="closeClick" > <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#989da0" width="18px" height="18px"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button></div></div><iframe id="iframeId" allow="camera;microphone" class="chatshow-iframe" src="#" data-flg="0"> </iframe></div></div>',bodytag=document.getElementsByTagName("body")[0];bodytag.innerHTML+=template,setTimeout(()=>{function t(){var t=screen.height,e=screen.width;if(t<700){var o=t/100*90;n.style.height=o+"px",i.style.height="40px",a.style.height=o-45+"px"}else n.style.height="700px",i.style.height="40px",a.style.height="655px";e<600?(o=e/100*95,n.style.width=o+"px"):n.style.width=e<800?"50%":"40%"}var e=window.prv+"showbot?formid="+window.nurams_bot,n=document.getElementById("chatbotid"),i=document.getElementById("chathead"),a=document.getElementById("iframeId"),o=document.getElementById("refreshClick"),r=document.getElementById("closeClick"),s=document.getElementById("chatshowbtn"),l=document.getElementById("iconsvg"),c=document.getElementById("imgg"),d=document.getElementById("chatbotopenid");bo=document.getElementById("bottitle");var h=function(t){var e=new XMLHttpRequest;return e.open("GET",t+"getbotdesign?formid="+window.nurams_bot,!1),e.send(null),e.responseText}(window.shownurams);if(""!=h){var f=JSON.parse(h);1==f.position_id?(c.className+=" chatshow-imgsleft",n.className+=" chatshow-title-btndiv-left",d.className+=" chatshow-title-btndiv-left"):2==f.position_id&&(d.className+=" chatshow-title-btndiv-center",c.className+=" chatshow-title-btndiv-center"),bo.innerHTML=f.message_text,1==f.launcher_style_id?("https:"!=location.protocol?f.avatar.avatar_image_path=f.avatar.avatar_image_path.replace("https","http"):f.avatar.avatar_image_path.includes("https")||(f.avatar.avatar_image_path=f.avatar.avatar_image_path.replace("http","https")),s.className+=" chatshow-btnn",c.style="display:block;background-image:url("+f.avatar.avatar_image_path+")",l.style="display:none",d.style="display:block;right: 90px;"):(d.style="display:block;right: 30px;",s.style="background-color :"+f.theme.color_code+" !important;");var u=window.localStorage.getItem("is_form_update");null!=u?u!=f.is_form_update&&(a.src=e+"&clear=1",window.localStorage.setItem("is_form_update",f.is_form_update)):window.localStorage.setItem("is_form_update",f.is_form_update)}o.addEventListener("click",function(){a.src=e+"&clear=1"}),r.addEventListener("click",function(){n.style.visibility="hidden",n.style.height="0"}),s.addEventListener("click",function(){n.style.height="0",setTimeout(()=>{n.style.visibility="visible",t(),"0"==a.getAttribute("data-flg")&&(a.src=e,a.setAttribute("data-flg","1"))},200)}),window.onresize=function(e){t()};class g{Chatbot(t,e,n){}open(){n.style.height="0",setTimeout(()=>{n.style.visibility="visible",t(),"0"==a.getAttribute("data-flg")&&(a.src=e,a.setAttribute("data-flg","1"))},200)}close(){n.style.visibility="hidden",n.style.height="0"}toggle(){""==n.style.height||"0px"==n.style.height?(n.style.height="0",setTimeout(()=>{n.style.visibility="visible",t(),"0"==a.getAttribute("data-flg")&&(a.src=e,a.setAttribute("data-flg","1"))},200)):(n.style.visibility="hidden",n.style.height="0")}}rbot=new g(n,a,e),null==window.localStorage.getItem("beh-fflg")?rbot.open():window.localStorage.setItem("beh-fflg",!0)},500),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Recorder=t()}}(function(){return function t(e,n,i){function a(r,s){if(!n[r]){if(!e[r]){var l="function"==typeof require&&require;if(!s&&l)return l(r,!0);if(o)return o(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[r]={exports:{}};e[r][0].call(d.exports,function(t){var n=e[r][1][t];return a(n||t)},d,d.exports,t,e,n,i)}return n[r].exports}for(var o="function"==typeof require&&require,r=0;r<i.length;r++)a(i[r]);return a}({1:[function(t,e,n){"use strict";e.exports=t("./recorder").Recorder},{"./recorder":2}],2:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();Object.defineProperty(n,"__esModule",{value:!0}),n.Recorder=void 0;var r=t("inline-worker"),s=i(r),l=n.Recorder=function(){function t(e,n){var i=this;a(this,t),this.config={bufferLen:4096,numChannels:2,mimeType:"audio/wav"},this.recording=!1,this.callbacks={getBuffer:[],exportWAV:[]},Object.assign(this.config,n),this.context=e.context,this.node=(this.context.createScriptProcessor||this.context.createJavaScriptNode).call(this.context,this.config.bufferLen,this.config.numChannels,this.config.numChannels),this.node.onaudioprocess=function(t){if(i.recording){for(var e=[],n=0;n<i.config.numChannels;n++)e.push(t.inputBuffer.getChannelData(n));i.worker.postMessage({command:"record",buffer:e})}},e.connect(this.node),this.node.connect(this.context.destination);var o={};this.worker=new s.default(function(){function t(t){p=t.sampleRate,m=t.numChannels,r()}function e(t){for(var e=0;e<m;e++)u[e].push(t[e]);f+=t[0].length}function n(t){for(var e=[],n=0;n<m;n++)e.push(s(u[n],f));var a=void 0;a=2===m?l(e[0],e[1]):e[0];var o=i(a,4096),r=h(o),c=new Blob([r],{type:t});g.postMessage({command:"exportWAV",data:c})}function i(t,e){if(e==p)return t;if(e>p)throw"downsampling rate show be smaller than original sample rate";for(var n=p/e,i=Math.round(t.length/n),a=new Float32Array(i),o=0,r=0;o<a.length;){for(var s=Math.round((o+1)*n),l=0,c=0,d=r;d<s&&d<t.length;d++)l+=t[d],c++;a[o]=l/c,o++,r=s}return a}function a(){for(var t=[],e=0;e<m;e++)t.push(s(u[e],f));g.postMessage({command:"getBuffer",data:t})}function o(){f=0,u=[],r()}function r(){for(var t=0;t<m;t++)u[t]=[]}function s(t,e){for(var n=new Float32Array(e),i=0,a=0;a<t.length;a++)n.set(t[a],i),i+=t[a].length;return n}function l(t,e){for(var n=t.length+e.length,i=new Float32Array(n),a=0,o=0;a<n;)i[a++]=t[o],i[a++]=e[o],o++;return i}function c(t,e,n){for(var i=0;i<n.length;i++,e+=2){var a=Math.max(-1,Math.min(1,n[i]));t.setInt16(e,a<0?32768*a:32767*a,!0)}}function d(t,e,n){for(var i=0;i<n.length;i++)t.setUint8(e+i,n.charCodeAt(i))}function h(t){var e=new ArrayBuffer(44+2*t.length),n=new DataView(e);return d(n,0,"RIFF"),n.setUint32(4,36+2*t.length,!0),d(n,8,"WAVE"),d(n,12,"fmt "),n.setUint32(16,16,!0),n.setUint16(20,1,!0),n.setUint16(22,m,!0),n.setUint32(24,4096,!0),n.setUint32(28,16384,!0),n.setUint16(32,2*m,!0),n.setUint16(34,16,!0),d(n,36,"data"),n.setUint32(40,2*t.length,!0),c(n,44,t),n}var f=0,u=[],g=this,p=void 0,m=void 0;g.onmessage=function(i){switch(i.data.command){case"init":t(i.data.config);break;case"record":e(i.data.buffer);break;case"exportWAV":n(i.data.type);break;case"getBuffer":a();break;case"clear":o()}}},o),this.worker.postMessage({command:"init",config:{sampleRate:this.context.sampleRate,numChannels:this.config.numChannels}}),this.worker.onmessage=function(t){var e=i.callbacks[t.data.command].pop();"function"==typeof e&&e(t.data.data)}}return o(t,[{key:"record",value:function(){this.recording=!0}},{key:"stop",value:function(){this.recording=!1}},{key:"clear",value:function(){this.worker.postMessage({command:"clear"})}},{key:"getBuffer",value:function(t){if(t=t||this.config.callback,!t)throw new Error("Callback not set");this.callbacks.getBuffer.push(t),this.worker.postMessage({command:"getBuffer"})}},{key:"exportWAV",value:function(t,e){if(e=e||this.config.mimeType,t=t||this.config.callback,!t)throw new Error("Callback not set");this.callbacks.exportWAV.push(t),this.worker.postMessage({command:"exportWAV",type:e})}}],[{key:"forceDownload",value:function(t,e){var n=(window.URL||window.webkitURL).createObjectURL(t),i=window.document.createElement("a");i.href=n,i.download=e||"output.wav";var a=document.createEvent("Event");a.initEvent("click",!0,!0),i.dispatchEvent(a)}}]),t}();n.default=l},{"inline-worker":3}],3:[function(t,e,n){"use strict";e.exports=t("./inline-worker")},{"./inline-worker":4}],4:[function(t,e,n){(function(t){"use strict";var n=function(){function t(t,e){for(var n in e){var i=e[n];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(t,e)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),i=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=!!(t===t.window&&t.URL&&t.Blob&&t.Worker),o=function(){function e(n,o){var r=this;if(i(this,e),a){var s=n.toString().trim().match(/^function\s*\w*\s*\([\w\s,]*\)\s*{([\w\W]*?)}$/)[1],l=t.URL.createObjectURL(new t.Blob([s],{type:"text/javascript"}));return new t.Worker(l)}this.self=o,this.self.postMessage=function(t){setTimeout(function(){r.onmessage({data:t})},0)},setTimeout(function(){n.call(o)},0)}return n(e,{postMessage:{value:function(t){var e=this;setTimeout(function(){e.self.onmessage({data:t})},0)}}}),e}();e.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)});